@using WebSiteBanHang.Models;
@model SanPham
@using WebSiteBanHang.helper;

@{
    ViewBag.Title = "XemChiTiet";
    Layout = "~/Views/Layout/HomeLayout.cshtml";
}

@using System.Text.RegularExpressions;
@using System.Text;
@functions{
    public static string ToUrlSlug(string value)
    {

        //First to lower case
        value = value.ToLowerInvariant();

        //Remove all accents
        var bytes = Encoding.GetEncoding("Cyrillic").GetBytes(value);

        value = Encoding.ASCII.GetString(bytes);

        //Replace spaces
        value = Regex.Replace(value, @"\s", "-", RegexOptions.Compiled);

        //Remove invalid chars
        value = Regex.Replace(value, @"[^\w\s\p{Pd}]", "", RegexOptions.Compiled);

        //Trim dashes from end
        value = value.Trim('-', '_');

        //Replace double occurences of - or \_
        value = Regex.Replace(value, @"([-_]){2,}", "$1", RegexOptions.Compiled);

        return value;
    }


}

<div class="row">

    <div class="col-md-5 single-top">
        <div class="flexslider">
            <ul class="slides">

                <li data-thumb="@Url.Content("~/Content/HinhAnhSP/" + Model.HinhAnh)">
                    <img src="@Url.Content("~/Content/HinhAnhSP/" + Model.HinhAnh)" />
                </li>
                <li data-thumb="@Url.Content("~/Content/HinhAnhSP/" + Model.HinhAnh1)">
                    <img src="@Url.Content("~/Content/HinhAnhSP/" + Model.HinhAnh1)" />
                </li>
                <li data-thumb="@Url.Content("~/Content/HinhAnhSP/" + Model.HinhAnh2)">
                    <img src="@Url.Content("~/Content/HinhAnhSP/" + Model.HinhAnh2)" />
                </li>
                <li data-thumb="@Url.Content("~/Content/HinhAnhSP/" + Model.HinhAnh3)">
                    <img src="@Url.Content("~/Content/HinhAnhSP/" + Model.HinhAnh3)" />
                </li>
            </ul>
        </div>
        <!-- FlexSlider -->
        <script defer src="~/Content/js/jquery.flexslider.js"></script>
        <link rel="stylesheet" href="~/Content/css/flexslider.css" type="text/css" media="screen" />

        <script>
            // Can also be used with $(document).ready()
            $(window).load(function () {
                $('.flexslider').flexslider({
                    animation: "slide",
                    controlNav: "thumbnails"
                });
            });
        </script>
    </div>
    <div class="col-md-6 single-top-in simpleCart_shelfItem ml-5">
        <div class="single-para ">
            <h4>@Model.TenSP</h4>
            <div class="star-on">
                <ul class="star-footer">
                    <li><a href="#"><i> </i></a></li>
                    <li><a href="#"><i> </i></a></li>
                    <li><a href="#"><i> </i></a></li>
                    <li><a href="#"><i> </i></a></li>
                    <li><a href="#"><i> </i></a></li>
                </ul>
                <div class="review" style="margin-top:-15px">
                    <p class="font-weight-bold"> Lượt truy cập :@Model.LuotXem</p>


                </div>
                <div class="clearfix"> </div>
            </div>

            <h5 class="item_price">@Model.DonGia.Value.ToString("#,##") VNĐ</h5>
            <p>
                @Html.Raw(Model.CauHinh)
            </p>
            <a href="@Url.Action("ThemGioHang","GioHang",new { @MaSP = Model.MaSP, @strURL = Request.Url.ToString()})" class="add-cart item_add">Giỏ hàng</a>

        </div>
    </div>

    <div class="clearfix"></div>




</div>
<div class="row">
    <h3>Thông tin sản phẩm</h3>
    <div class="col-md-12">
        @Html.Raw(Model.MoTa)
    </div>

</div>
<div class="row">
    <div id="fb-root"></div>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v8.0" nonce="pfPZNyrZ"></script>
    <div class="fb-comments" data-href="http://localhost:3000/@ToUrlSlug(Model.TenSP)-@Model.MaSP" data-numposts="5" data-width="800" data-adapt-container-width="true"></div>
</div>